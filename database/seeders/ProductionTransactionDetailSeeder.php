<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;

class ProductionTransactionDetailSeeder extends Seeder
{
    public function run(): void
    {
        DB::statement('SET FOREIGN_KEY_CHECKS=0;');
        DB::table('transaction_details')->truncate();

        // [id, trx_id, prod_id, variant?, qty, price, buy_price, created_at, updated_at]
        $details = [
            [1, 1, 42, NULL, 0.200, 50000, 35000.00, '2026-01-26 10:41:01', '2026-01-26 10:41:01'],
            [2, 2, 85, NULL, 0.180, 30000, 21000.00, '2026-01-26 10:43:38', '2026-01-26 10:43:38'],
            [3, 3, 85, NULL, 0.180, 30000, 21000.00, '2026-01-26 10:45:10', '2026-01-26 10:45:10'],
            [4, 4, 58, NULL, 0.230, 60000, 45000.00, '2026-01-26 11:08:20', '2026-01-26 11:08:20'],
            [5, 4, 64, NULL, 1.000, 45000, 35000.00, '2026-01-26 11:08:20', '2026-01-26 11:08:20'],
            [6, 5, 58, NULL, 0.230, 60000, 45000.00, '2026-01-26 11:09:15', '2026-01-26 11:09:15'],
            [7, 5, 64, NULL, 1.000, 45000, 35000.00, '2026-01-26 11:09:15', '2026-01-26 11:09:15'],
            [8, 6, 85, NULL, 0.180, 30000, 21000.00, '2026-01-26 11:09:51', '2026-01-26 11:09:51'],
            [9, 7, 67, NULL, 1.000, 35000, 29000.00, '2026-01-26 13:05:52', '2026-01-26 13:05:52'],
            [10, 7, 81, NULL, 0.180, 40000, 35000.00, '2026-01-26 13:05:52', '2026-01-26 13:05:52'],
            [11, 8, 20, NULL, 1.000, 11000, 8533.00, '2026-01-26 13:33:36', '2026-01-26 13:33:36'],
            [12, 8, 82, NULL, 0.885, 45000, 37000.00, '2026-01-26 13:33:36', '2026-01-26 13:33:36'],
            [13, 9, 2, NULL, 0.900, 40000, 31000.00, '2026-01-26 14:38:48', '2026-01-26 14:38:48'],
            [14, 10, 78, NULL, 0.390, 48000, 38000.00, '2026-01-26 14:50:40', '2026-01-26 14:50:40'],
            [15, 11, 2, NULL, 0.340, 40000, 31000.00, '2026-01-26 15:12:45', '2026-01-26 15:12:45'],
            [16, 11, 81, NULL, 0.360, 40000, 35000.00, '2026-01-26 15:12:45', '2026-01-26 15:12:45'],
            [17, 11, 88, NULL, 0.410, 45000, 38000.00, '2026-01-26 15:12:45', '2026-01-26 15:12:45'],
            [18, 12, 2, NULL, 0.340, 40000, 31000.00, '2026-01-26 15:14:44', '2026-01-26 15:14:44'],
            [19, 12, 81, NULL, 0.360, 40000, 35000.00, '2026-01-26 15:14:44', '2026-01-26 15:14:44'],
            [20, 12, 88, NULL, 0.410, 45000, 38000.00, '2026-01-26 15:14:44', '2026-01-26 15:14:44'],
            [21, 13, 81, NULL, 0.500, 40000, 35000.00, '2026-01-26 15:30:49', '2026-01-26 15:30:49'],
            [25, 16, 91, NULL, 0.350, 40000, 30000.00, '2026-01-26 15:57:28', '2026-01-26 15:57:28'],
            [27, 18, 81, NULL, 1.085, 40000, 35000.00, '2026-01-26 16:43:27', '2026-01-26 16:43:27'],
            [28, 19, 90, NULL, 1.050, 25000, 20000.00, '2026-01-26 16:55:57', '2026-01-26 16:55:57'],
            [29, 19, 103, NULL, 0.480, 45000, 30000.00, '2026-01-26 16:55:57', '2026-01-26 16:55:57'],
            [30, 19, 117, NULL, 1.000, 10000, 8750.00, '2026-01-26 16:55:57', '2026-01-26 16:55:57'],
            [31, 19, 122, NULL, 0.500, 70000, 20500.00, '2026-01-26 16:55:57', '2026-01-26 16:55:57'],
            [32, 20, 67, NULL, 1.000, 35000, 29000.00, '2026-01-26 17:19:22', '2026-01-26 17:19:22'],
            [33, 20, 124, NULL, 1.000, 45000, 39000.00, '2026-01-26 17:19:22', '2026-01-26 17:19:22'],
            [34, 21, 52, NULL, 3.000, 15000, 9300.00, '2026-01-26 17:29:23', '2026-01-26 17:29:23'],
            [35, 22, 67, NULL, 1.000, 35000, 29000.00, '2026-01-26 17:44:04', '2026-01-26 17:44:04'],
            [36, 23, 42, NULL, 0.300, 50000, 35000.00, '2026-01-26 18:16:34', '2026-01-26 18:16:34'],
            [37, 23, 67, NULL, 1.000, 35000, 29000.00, '2026-01-26 18:16:34', '2026-01-26 18:16:34'],
            [38, 23, 78, NULL, 0.465, 48000, 38000.00, '2026-01-26 18:16:34', '2026-01-26 18:16:34'],
            [39, 24, 124, NULL, 3.000, 45000, 39000.00, '2026-01-26 20:09:40', '2026-01-26 20:09:40'],
            [40, 24, 127, NULL, 0.510, 35000, 25000.00, '2026-01-26 20:09:40', '2026-01-26 20:09:40'],
            [41, 25, 124, NULL, 1.000, 45000, 39000.00, '2026-01-26 20:33:01', '2026-01-26 20:33:01'],
            [42, 26, 22, NULL, 2.000, 13500, 10500.00, '2026-01-26 20:50:43', '2026-01-26 20:50:43'],
            [43, 26, 75, NULL, 1.000, 50000, 37000.00, '2026-01-26 20:50:43', '2026-01-26 20:50:43'],
            [44, 27, 103, NULL, 0.950, 45000, 30000.00, '2026-01-26 20:52:25', '2026-01-26 20:52:25'],
            [45, 28, 103, NULL, 0.560, 45000, 30000.00, '2026-01-26 20:53:04', '2026-01-26 20:53:04'],
            [46, 29, 46, NULL, 1.000, 35000, 26500.00, '2026-01-26 21:46:33', '2026-01-26 21:46:33'],
            [47, 29, 68, NULL, 1.000, 40000, 21000.00, '2026-01-26 21:46:33', '2026-01-26 21:46:33'],
            [48, 30, 11, NULL, 0.200, 53000, 43000.00, '2026-01-26 22:22:07', '2026-01-26 22:22:07'],
            [49, 30, 18, NULL, 1.000, 7000, 3800.00, '2026-01-26 22:22:07', '2026-01-26 22:22:07'],
            [50, 30, 103, NULL, 0.500, 45000, 30000.00, '2026-01-26 22:22:07', '2026-01-26 22:22:07'],
        ];

        foreach ($details as $row) {
            DB::table('transaction_details')->insert([
                'id' => $row[0],
                'transaction_id' => $row[1],
                'product_id' => $row[2],
                'product_variant_id' => $row[3],
                // 'variant_name' => NULL, // Assuming implied null or not in dump
                'qty' => $row[4],
                'price' => $row[5],
                'buy_price' => $row[6],
                'created_at' => $row[7],
                'updated_at' => $row[8],
            ]);
        }
        
        DB::statement('SET FOREIGN_KEY_CHECKS=1;');
    }
}
